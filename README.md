# SVG Mapper - SVG 기반 폴리곤/도면 에디터

<div align="center">

**Nuxt 3, Vue 3, TailwindCSS 기반의 강력한 SVG 폴리곤/도면 에디터**

[🚀 데모 보기](#) | [📖 문서](#문서) | [🛠️ 설치](#설치-및-실행) | [🎯 기능](#주요-기능)

</div>

## 📋 목차

- [설치 및 실행](#-설치-및-실행)
- [소개](#-소개)
- [주요 기능](#-주요-기능)
- [사용법](#-사용법)
- [기술 스택](#-기술-스택)
- [아키텍처](#-아키텍처)
- [문서](#문서)
- [기여하기](#-기여하기)
- [라이선스](#-라이선스)

## 🛠️ 설치 및 실행

### 필수 요구사항

- Node.js 18+
- Yarn 또는 npm

### 설치

#### 1. 저장소 클론

```bash
# 저장소 클론
git clone <repository-url>
cd svg-mapper
```

#### 2. 의존성 설치

```bash
# 의존성 설치
yarn install
```

#### 3. Workspace 의존성 제거 (필수)

이 프로젝트는 모노레포 환경에서 개발되어 기본적으로 workspace 의존성을 사용합니다. npm 패키지로 전환하려면 먼저 workspace 의존성을 삭제해야 합니다.

`svg-mapper/package.json` 파일에서 아래와 같이 `"@aldegad/nuxt-core": "workspace:*"` 라인을 삭제한 뒤, 4번 단계에서 core 패키지를 npm으로 설치하세요:

```json
{
  "dependencies": {
    // 이 라인 삭제
    "@aldegad/nuxt-core": "workspace:*"
  }
}
```

#### 4. Core 패키지 설치 (필수)

이제 npm에서 core 패키지를 설치하세요:

```bash
# npm 사용 시
npm install @aldegad/nuxt-core
# 또는 yarn 사용 시
yarn add @aldegad/nuxt-core
```

#### 5. 개발 서버 실행

```bash
# 개발 서버 실행
yarn dev
```

### 빌드

```bash
# 프로덕션 빌드
yarn build

# 정적 사이트 생성
yarn generate

# 빌드 결과 미리보기
yarn preview
```

## 🎯 소개

SVG Mapper는 **SVG 기반의 전문적인 폴리곤/도면 에디터**입니다. 프로젝트/캔버스/레이어 관리, 다양한 도구 및 정렬 기능, 직관적인 단축키, JSON 저장 등 2D 그래픽 편집에 특화된 기능을 제공합니다.

### ✨ 특징

- **🎨 직관적인 인터페이스**: 사용자 친화적인 UI/UX
- **🔧 강력한 편집 도구**: 선택, 이동, 크기 변경, 정렬 등 다양한 도구
- **⚡ 빠른 성능**: SVG 기반으로 안정적이고 빠른 렌더링
- **📁 체계적인 관리**: 프로젝트, 캔버스, 레이어 구조화
- **⌨️ 편리한 단축키**: 효율적인 작업을 위한 다양한 단축키 지원

## 🚀 주요 기능

### 📁 프로젝트 관리

- ✅ 프로젝트 생성/삭제/이름변경
- ✅ 캔버스 생성/삭제/이름변경
- ✅ 레이어 관리 (Map, Polygon, Detail)

### 🎨 편집 도구

- ✅ **선택 및 이동**: 도형 선택 및 드래그 이동
- ✅ **크기 변경**: 도형 크기 조정
- ✅ **네모 도구**: 사각형 생성
- 🔄 원 도구 (개발 중)
- 🔄 펜툴 (개발 중)
- ✅ **화면 조작**: 확대/축소/이동

### 🎯 정렬 및 분포

- ✅ **정렬**: 상/하/좌/우/중앙 정렬
- ✅ **분포**: 가로/세로 균등 분포
- ✅ **그룹화**: 도형 그룹 생성/해제

### 🎨 스타일링

- ✅ **채우기**: 색상 및 투명도 설정
- ✅ **선**: 색상, 투명도, 굵기 설정
- ✅ **이미지**: 폴리곤에 이미지 적용

### ⌨️ 단축키

| 기능          | 단축키      |
| ------------- | ----------- |
| 선택 도구     | `V`         |
| 크기 변경     | `T`         |
| 네모 도구     | `M`         |
| 원 도구       | `C`         |
| 펜툴          | `P`         |
| 화면 이동     | `Space`     |
| 레이어 변경   | `Tab`       |
| 그룹 생성     | `Cmd + G`   |
| 복사/붙여넣기 | `Cmd + C/V` |
| 삭제          | `Delete`    |

## 🎮 사용법

### 1. 프로젝트 시작

1. 프로젝트 생성 버튼 클릭
2. 프로젝트 이름 입력
3. 생성된 프로젝트 클릭하여 편집 모드 진입

### 2. 캔버스 설정

1. 캔버스 생성
2. 캔버스 크기 설정 (가로/세로)
3. 배경 이미지 업로드 (선택사항)

### 3. 도형 편집

1. 도구 선택 (선택, 네모, 원 등)
2. 캔버스에서 도형 생성/편집
3. 속성 패널에서 스타일 조정

### 4. 정렬 및 그룹화

1. 여러 도형 선택 (Shift + 클릭)
2. 정렬 도구 사용
3. 그룹 생성/해제

## 🛠️ 기술 스택

### Frontend

- **Nuxt 3** - Vue.js 기반 프레임워크
- **Vue 3** - 반응형 UI 라이브러리
- **TypeScript** - 타입 안전성
- **TailwindCSS** - 유틸리티 기반 CSS 프레임워크

### State Management

- **Pinia** - Vue 상태 관리
- **Vue Router** - 클라이언트 사이드 라우팅

### Development Tools

- **ESLint** - 코드 품질 관리
- **Prettier** - 코드 포맷팅
- **Vite** - 빠른 개발 서버

## 🏗️ 아키텍처

### 핵심 설계 원칙

#### 1. SVG 기반 렌더링

- **장점**: DOM 요소로 각 도형 관리, CSS/JS 제어 용이
- **반응형**: 확대/축소에 강함
- **디버깅**: 구조 파악 및 접근성 우수

#### 2. Ray Casting Algorithm

- **Point-in-Polygon**: 중첩 도형 선택의 일관성 확보
- **이벤트 처리**: 마우스 좌표 기반 정확한 도형 선택

#### 3. 상태 기반 인터랙션

- **State Machine**: 마우스 이벤트 추상화
- **독립적 관리**: 이벤트별 완전 분리
- **확장성**: 새로운 도구 추가 용이

### 주요 알고리즘

- **Point-in-Polygon Test**: Ray Casting 기반 도형 선택
- **2D 기하 알고리즘**: 거리, 경계, 정렬 계산
- **폴리곤 트리 구조**: 그룹 및 계층 관리
- **Sticky 이동**: 연결된 도형 그룹 이동

## 📚 문서

### 📖 가이드

- [기능 및 단축키 목록](./docs/guide/기능_및_단축키_목록.md) - 상세 기능 설명
- [에디터 설계 문서](./docs/guide/에디터_설계_문서.md) - 아키텍처 및 알고리즘 설명

### 📝 개발 메모

- [뷰어 메모](./docs/guide/memos/뷰어_메모.md)
- [에디터 메모](./docs/guide/memos/에디터_메모.md)
- [작업순서 메모](./docs/guide/memos/작업순서_메모.md)

### 📅 개발 히스토리

- [2025년 6월 2주차](./docs/history/2025_6월_2주차/)
- [2025년 6월 3주차](./docs/history/2025_6월_3주차/)
- [2025년 6월 4-5주차](./docs/history/2025_6월_45주차/)
- [2025년 7월 1주차](./docs/history/2025_7월_1주차/)
- [2025년 7월 2주차](./docs/history/2025_7월_2주차/)

## 🤝 기여하기

### 개발 환경 설정

```bash
# 코드 품질 검사
yarn eslint

# 타입 체크
yarn tsc

# 코드 포맷팅
yarn prettier
```

### 개발 가이드라인

1. 이슈나 개선사항을 먼저 논의해주세요
2. 기능 개발 시 관련 문서도 함께 업데이트해주세요
3. 코드 스타일을 일관성 있게 유지해주세요
4. 테스트를 충분히 진행한 후 제출해주세요

### 현재 개발 중인 기능

- 🔄 원 도구 구현
- 🔄 펜툴 구현
- 🔄 뷰어에서 도면 클릭 시 확대 기능
- 🔄 그룹 기능 고도화

### 이슈 리포트

버그 발견이나 기능 제안이 있으시면 프로젝트 관리자에게 직접 연락해주세요.

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 자세한 내용은 [LICENSE](LICENSE) 파일을 참조하세요.

---

<div align="center">

**SVG Mapper** - SVG 기반 폴리곤/도면 에디터

[GitHub](https://github.com/aldegad/nuxt-svg-mapper) • [이슈 리포트](https://github.com/aldegad/nuxt-svg-mapper/issues) • [문서](https://github.com/aldegad/nuxt-svg-mapper/docs)

</div>
