## 코드 흐름

schemas -> utils
schemas -> components
schemas -> composables
schemas -> stores
schemas -> directives

utils -> components
utils -> composables
utils -> stores
utils -> directives

stores -> composables
stores -> components

composables -> components
directives -> components

### 최종 소비자

layout
pages
plugins

## 리펙토링 계획

### 문제1.

현재 이벤트들이 파편화되기 시작함

- shortcuts, capture 두가지가 독립적으로 이벤트를 생성 실행 및 관리를 하고 있음
- 이로 인해, 서로 충돌 가능성 및 불필요한 코드생산 및 구조적 결함으로 정리가 안되는 코드가 보임
- 히스토리까지 추가되면서 더욱 책임이 가중됨

### 해결책

각 기능에 대한 책임 추가 분할

- shortcuts, capture 는 각각 shortcut 트리거 및 capture 트리거를 생성하는 역할만 책임을 줄여줌
- 각각의 트리거된 이벤트를 모아서 처리하는 event triger(이름 미정) 파일을 추가하여 트리거 통합
- 실제 최종적으로 트리거된 이벤트를 event(이름 미정) 파일을 추가하여 관리
- event ex

```ts
watchEvent((event) => {
  switch (event.type) {
    case "copy":
      // event
      break;
    case "past":
      // event
      break;
    case "duplicate":
      // event
      break;
    case "remove":
      // event
      break;
    case "transform":
      // event
      break;
  }
});
```

### 문제 2.

전역 상태관리가 서로를 참조하는 케이스가 꽤 됨.

- 이 부분들을 store에 직접 함수를 사용하거나 할당하는 방식을 쓰지말고, composable로 따로 빼서 처리했었어햐 함
- 함수들을 composable로 따로 빼서 처리

### 문제 3.

캡쳐 이벤트... 내가 대체 왜... 함수와 변수를 한개씩 넣었을까... 그냥 스토어를 넣으면 되는것을...

### 기타

HOLD_MOVE_START 상태를 만들 필요가 있어보임.
